---
import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects")).filter((p) => p.data.featured !== false);
---
<BaseLayout title="Florian Jule — Portfolio">
  <section class="mt-5 rounded-2xl border border-slate-200 bg-gradient-to-b from-indigo-500/10 to-white p-8 shadow-sm">
    <p class="text-xs font-extrabold uppercase tracking-wider text-slate-600">
      Robotics Student · ROS2 · Autonomy
    </p>
    <h1 class="mt-2 text-3xl font-semibold tracking-tight text-slate-900 sm:text-5xl">
      Building reliable robots with clean software and strong demos.
    </h1>
    <p class="mt-3 max-w-2xl text-base text-slate-600">
      I’m a robotics student focused on navigation, perception, and integration.
    </p>

    <div class="mt-5 flex flex-wrap gap-3">
      <a class="rounded-full bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700" href="/#projects">
        View projects
      </a>
      <a class="rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:border-indigo-200 hover:text-indigo-700" href="/#contact">
        Contact
      </a>
    </div>
  </section>

  <section id="projects" class="mt-8">
    <div class="flex items-baseline justify-between gap-3">
      <h2 class="text-lg font-semibold tracking-tight">Projects</h2>
      <a class="text-sm font-semibold text-slate-600 hover:text-indigo-600" href="/#contact">Contact</a>
    </div>

    <div class="mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2">
      {projects.map((p) => (
        <ProjectCard
          href={`/projects/${p.slug}`}
          title={p.data.title}
          summary={p.data.summary}
          tags={p.data.tags}
        />
      ))}
    </div>
  </section>
</BaseLayout>